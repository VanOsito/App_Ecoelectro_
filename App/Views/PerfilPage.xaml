<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="App.Views.PerfilPage"
             Title=""
             BackgroundColor="#DCCAE6">
    <ScrollView>
        <VerticalStackLayout Padding="0,0,0,30" Spacing="20">
            <!-- Header curvado -->
            <Grid HeightRequest="220" BackgroundColor="#7F4A9B">
                <Grid.Clip>
                    <PathGeometry Figures="M0,0 L0,180 Q200,240 400,180 L400,0 Z"/>
                </Grid.Clip>
                <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center" Spacing="10">
                    <Frame Padding="0" WidthRequest="100" HeightRequest="100"
                           CornerRadius="50" HasShadow="True"
                           BackgroundColor="White" BorderColor="#C993E6">
                        <Image Source="perfil.png"
                               Aspect="AspectFill"
                               HeightRequest="100"
                               WidthRequest="100">
                            <Image.Clip>
                                <EllipseGeometry Center="50,50" RadiusX="50" RadiusY="50" />
                            </Image.Clip>
                        </Image>
                    </Frame>

                    <Label x:Name="lblNombre"
                           Text="Nombre del Usuario"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="White"
                           HorizontalOptions="Center" />
                    <Label x:Name="lblCorreo"
                           Text="correo@usuario.com"
                           FontSize="13"
                           TextColor="#E8DFF5"
                           HorizontalOptions="Center" />
                </VerticalStackLayout>
            </Grid>

            <!-- Puntos acumulados -->
            <Frame CornerRadius="20"
                   BackgroundColor="White"
                   Margin="20,10"
                   HasShadow="True"
                   Padding="25">
                <VerticalStackLayout HorizontalOptions="Center" Spacing="10">
                    <Label Text="â­ Puntos acumulados"
                           TextColor="#7F4A9B"
                           FontSize="18"
                           FontAttributes="Bold"
                           HorizontalOptions="Center" />
                    <Label x:Name="lblPuntos"
                           Text="500"
                           FontSize="40"
                           FontAttributes="Bold"
                           TextColor="#83AD6C"
                           HorizontalOptions="Center" />
                    <Label x:Name="lblNivel"
                           Text="Nivel: Bronce"
                           FontSize="16"
                           TextColor="#7F4A9B"
                           FontAttributes="Bold"
                           HorizontalOptions="Center" />
                    <Image x:Name="imgMascota"
                           HeightRequest="100"
                           WidthRequest="100"
                           Aspect="AspectFit"
                           HorizontalOptions="Center"
                           Margin="0,5,0,0"/>
                    <Button Text="Ver historial de puntos"
                            TextColor="White"
                            BackgroundColor="#7F4A9B"
                            CornerRadius="15"
                            WidthRequest="220"
                            Clicked="VerHistorial_Clicked" />
                </VerticalStackLayout>
            </Frame>

            <!-- InformaciÃ³n del usuario -->
            <Frame CornerRadius="20"
                   BackgroundColor="White"
                   Margin="20,0"
                   HasShadow="True"
                   Padding="20">
                <VerticalStackLayout Spacing="8">
                    <Label Text="ðŸ“ InformaciÃ³n personal"
                           FontSize="17"
                           FontAttributes="Bold"
                           TextColor="#7F4A9B" />
                    <Label x:Name="lblRegion"
                           Text="RegiÃ³n: RegiÃ³n Metropolitana de Santiago"
                           FontSize="14"
                           TextColor="#333" />
                    <Label x:Name="lblComuna"
                           Text="Comuna: Santiago"
                           FontSize="14"
                           TextColor="#333" />
                </VerticalStackLayout>
            </Frame>

            <!-- Botones -->
            <VerticalStackLayout Margin="20,10" Spacing="10">
                <Button x:Name="btnGestionUsuarios"
                        Text="Gestionar Usuarios"
                        BackgroundColor="#83AD6C"
                        TextColor="White"
                        CornerRadius="15"
                        FontAttributes="Bold"
                        HeightRequest="50"
                        Clicked="gestion" />
                <Button Text="Cerrar SesiÃ³n"
                        BackgroundColor="#7F4A9B"
                        TextColor="White"
                        CornerRadius="15"
                        FontAttributes="Bold"
                        HeightRequest="50"
                        Clicked="cerrar" />
            </VerticalStackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>